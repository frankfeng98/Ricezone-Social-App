{"ast":null,"code":"import _classCallCheck from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Formik,Field,Form,ErrorMessage}from'formik';import React,{Component}from'react';import{connect}from'react-redux';import*as Yup from'yup';import{addPosts}from'../../actions';import{addArticles}from'../../reducers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddPost=/*#__PURE__*/function(_Component){_inherits(AddPost,_Component);var _super=_createSuper(AddPost);function AddPost(props){var _this;_classCallCheck(this,AddPost);_this=_super.call(this,props);_this.handleSubmit=function(values,actions){values['userId']=_this.props.userID;_this.props.addPost(values);actions.setSubmitting(false);actions.resetForm();};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(AddPost,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Formik,{initialValues:{body:'',image:'empty'},validationSchema:Yup.object({body:Yup.string().required(\"Required\")}),onSubmit:this.handleSubmit,children:function children(_ref){var setFieldValue=_ref.setFieldValue;return/*#__PURE__*/_jsxs(Form,{className:\"bg-sky-100 rounded-lg p-10 m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsx(Field,{name:\"body\",type:\"text\",className:\"mt-1\",placeholder:\"Add Your Contents Here\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"body\"})]}),/*#__PURE__*/_jsx(Field,{name:\"image\",type:\"file\",className:\"mt-1\",value:undefined,onChange:function onChange(event){setFieldValue(\"image\",event.currentTarget.files[0]);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"py-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Add Post\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"py-2 mx-4 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Cancel\"})]})]});}});}}]);return AddPost;}(Component);var mapStateToProps=function mapStateToProps(state){return{userID:state.currentUser};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addPost:function addPost(post){return dispatch(addArticles(post));}};};export default connect(mapStateToProps,mapDispatchToProps)(AddPost);","map":{"version":3,"names":["Formik","Field","Form","ErrorMessage","React","Component","connect","Yup","addPosts","addArticles","AddPost","props","handleSubmit","values","actions","userID","addPost","setSubmitting","resetForm","bind","body","image","object","string","required","setFieldValue","undefined","event","currentTarget","files","mapStateToProps","state","currentUser","mapDispatchToProps","dispatch","post"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/src/components/MainPage/AddPost.jsx"],"sourcesContent":["import { Formik, Field, Form, ErrorMessage } from 'formik'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as Yup from 'yup';\nimport { addPosts } from '../../actions';\nimport { addArticles } from '../../reducers';\n\nexport class AddPost extends Component {\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this\n            .handleSubmit\n            .bind(this);\n    }\n  handleSubmit =(values, actions) => {\n    values['userId'] = this.props.userID;\n    this.props.addPost(values);\n    actions.setSubmitting(false);\n    actions.resetForm();\n  }\n\n  render() {\n    return (\n        <Formik\n            initialValues={{body: '', image: 'empty'}}\n            validationSchema={Yup.object({\n                body: Yup.string().required(\"Required\")\n            })}\n            onSubmit={this.handleSubmit}\n        >\n            {({setFieldValue}) => (\n                <Form className='bg-sky-100 rounded-lg p-10 m-3'>\n                    <div className=\"flex flex-col mb-2 block\">\n                        <Field name=\"body\" type=\"text\" className=\"mt-1\" placeholder=\"Add Your Contents Here\"/>\n                        <ErrorMessage name=\"body\" />\n                    </div>\n                    <Field name=\"image\" type=\"file\" className=\"mt-1\" value={undefined} onChange={(event) => {\n                        setFieldValue(\"image\", event.currentTarget.files[0]);\n                    }}/>\n                    <div className='my-3'>\n                        <button type=\"submit\" className=\"py-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                        Add Post\n                        </button>\n                        <button type=\"reset\" className=\"py-2 mx-4 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                        Cancel\n                        </button>\n                    </div>\n                </Form>   \n            )} \n        </Formik>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userID: state.currentUser\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (post) => dispatch(addArticles(post))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPost)"],"mappings":"41BAAA,OAASA,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,YAAY,KAAQ,QAAQ,CAC1D,MAAOC,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,GAAKC,IAAG,KAAM,KAAK,CAC1B,OAASC,QAAQ,KAAQ,eAAe,CACxC,OAASC,WAAW,KAAQ,gBAAgB,CAAC,wFAE7C,UAAaC,QAAO,kGAChB,iBAAYC,KAAK,CAAE,yCACf,uBAAMA,KAAK,EAAE,MAKnBC,YAAY,CAAE,SAACC,MAAM,CAAEC,OAAO,CAAK,CACjCD,MAAM,CAAC,QAAQ,CAAC,CAAG,MAAKF,KAAK,CAACI,MAAM,CACpC,MAAKJ,KAAK,CAACK,OAAO,CAACH,MAAM,CAAC,CAC1BC,OAAO,CAACG,aAAa,CAAC,KAAK,CAAC,CAC5BH,OAAO,CAACI,SAAS,EAAE,CACrB,CAAC,CATK,MAAKN,YAAY,CAAG,MACfA,YAAY,CACZO,IAAI,+BAAM,CAAC,aACpB,CAAC,0CAQH,iBAAS,CACP,mBACI,KAAC,MAAM,EACH,aAAa,CAAE,CAACC,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,OAAO,CAAE,CAC1C,gBAAgB,CAAEd,GAAG,CAACe,MAAM,CAAC,CACzBF,IAAI,CAAEb,GAAG,CAACgB,MAAM,EAAE,CAACC,QAAQ,CAAC,UAAU,CAC1C,CAAC,CAAE,CACH,QAAQ,CAAE,IAAI,CAACZ,YAAa,UAE3B,2BAAEa,cAAa,MAAbA,aAAa,oBACZ,MAAC,IAAI,EAAC,SAAS,CAAC,gCAAgC,wBAC5C,aAAK,SAAS,CAAC,0BAA0B,wBACrC,KAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,wBAAwB,EAAE,cACtF,KAAC,YAAY,EAAC,IAAI,CAAC,MAAM,EAAG,GAC1B,cACN,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAEC,SAAU,CAAC,QAAQ,CAAE,kBAACC,KAAK,CAAK,CACpFF,aAAa,CAAC,OAAO,CAAEE,KAAK,CAACC,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACxD,CAAE,EAAE,cACJ,aAAK,SAAS,CAAC,MAAM,wBACjB,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,uNAAuN,sBAE9O,cACT,eAAQ,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,4NAA4N,oBAElP,GACP,GACH,EACV,EACI,CAEf,CAAC,qBA5C0BxB,SAAS,EA+CtC,GAAMyB,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,CAAK,CAC/B,MAAO,CACHhB,MAAM,CAAEgB,KAAK,CAACC,WAClB,CAAC,CACL,CAAC,CAED,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,QAAQ,CAAK,CACrC,MAAO,CACHlB,OAAO,CAAE,iBAACmB,IAAI,QAAKD,SAAQ,CAACzB,WAAW,CAAC0B,IAAI,CAAC,CAAC,EAClD,CAAC,CACL,CAAC,CAED,cAAe7B,QAAO,CAACwB,eAAe,CAAEG,kBAAkB,CAAC,CAACvB,OAAO,CAAC"},"metadata":{},"sourceType":"module"}