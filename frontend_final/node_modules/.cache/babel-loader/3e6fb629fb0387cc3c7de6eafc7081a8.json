{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw6/hw6-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import React,{useEffect}from'react';import{Formik,Field,Form,ErrorMessage}from'formik';import*as Yup from'yup';import{useSelector,useDispatch,shallowEqual}from'react-redux';import{Navigate,useNavigate}from'react-router-dom';import{validateUsers,resetValidate}from'../actions';import toast,{Toaster}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ValidationPassword(userList,logIn){var result=false;userList.forEach(function(user){if(user.username===logIn.username){if(user.password1){if(user.password1==logIn.password){result=true;}}else{if(user.address.street==logIn.password){result=true;}}}});return result;}export var LogInForm=function LogInForm(_ref){_objectDestructuringEmpty(_ref);var dispatch=useDispatch();var userList=useSelector(function(state){return state.userList;});var navigate=useNavigate();return/*#__PURE__*/_jsx(Formik,{initialValues:{username:'',password:''},validationSchema:Yup.object({username:Yup.string().required(\"Required\"),password:Yup.string().required(\"Password required\")}),onSubmit:function onSubmit(values,actions){dispatch(validateUsers(values));if(ValidationPassword(userList,values)){navigate(\"/main\");}else{toast.error('Log In Information incorrect.');}actions.setSubmitting(false);actions.resetForm();},children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Account Name\"}),/*#__PURE__*/_jsx(Field,{name:\"username\",type:\"text\",className:\"mt-1\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"py-2 my-3 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Log In\"})]})})});};","map":{"version":3,"names":["React","useEffect","Formik","Field","Form","ErrorMessage","Yup","useSelector","useDispatch","shallowEqual","Navigate","useNavigate","validateUsers","resetValidate","toast","Toaster","ValidationPassword","userList","logIn","result","forEach","user","username","password1","password","address","street","LogInForm","dispatch","state","navigate","object","string","required","values","actions","error","setSubmitting","resetForm"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw6/hw6-frontend-frankfeng98/ricezone/src/components/LogInForm.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport { validateUsers, resetValidate } from '../actions';\nimport toast, { Toaster } from 'react-hot-toast';\n\nfunction ValidationPassword(userList, logIn) {\n    let result = false;\n    userList.forEach(user => {\n        if (user.username === logIn.username) {\n            if (user.password1) {\n                if (user.password1 == logIn.password) {\n                    result = true;\n                }\n            } else {\n                if (user.address.street == logIn.password) {\n                    result = true;\n                }\n            }\n            \n        }\n    });\n    return result;\n}\n\n\nexport const LogInForm = ({}) => {\n  const dispatch = useDispatch();\n  const userList = useSelector(state => state.userList)\n  const navigate = useNavigate();\n  return (\n    <Formik\n        initialValues={{ username: '', password: ''}}\n        validationSchema={Yup.object({\n            username: Yup.string().required(\"Required\"),\n            password: Yup.string().required(\"Password required\")\n        })}\n        onSubmit={(values, actions) => {\n            dispatch(validateUsers(values));\n            if (ValidationPassword(userList, values)) {\n                navigate(\"/main\");\n            } else {\n                toast.error('Log In Information incorrect.');\n            }\n            actions.setSubmitting(false);\n            actions.resetForm();\n        }}\n    >\n        <Form>\n            <div className=\"flex flex-col mb-2 block\">\n                <div className=\"flex flex-col mb-2 block\">\n                    <label htmlFor=\"username\">Account Name</label>\n                    <Field name=\"username\" type=\"text\" className=\"mt-1\"/>\n                    <ErrorMessage name=\"username\" />\n                </div>\n                <div className='flex flex-col mb-2 block'> \n                    <label htmlFor=\"password\">Password</label>\n                    <Field name=\"password\" type=\"password\" />\n                    <ErrorMessage name=\"password\" />\n                </div>\n\n                <button type=\"submit\" className=\"py-2 my-3 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                Log In\n                </button>\n            </div>       \n        </Form>\n    </Formik>\n  )\n};\n\n"],"mappings":"gMAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,YAAY,KAAQ,QAAQ,CAC1D,MAAO,GAAKC,IAAG,KAAM,KAAK,CAC1B,OAASC,WAAW,CAAEC,WAAW,CAAEC,YAAY,KAAQ,aAAa,CACpE,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,aAAa,CAAEC,aAAa,KAAQ,YAAY,CACzD,MAAOC,MAAK,EAAIC,OAAO,KAAQ,iBAAiB,CAAC,wFAEjD,QAASC,mBAAkB,CAACC,QAAQ,CAAEC,KAAK,CAAE,CACzC,GAAIC,OAAM,CAAG,KAAK,CAClBF,QAAQ,CAACG,OAAO,CAAC,SAAAC,IAAI,CAAI,CACrB,GAAIA,IAAI,CAACC,QAAQ,GAAKJ,KAAK,CAACI,QAAQ,CAAE,CAClC,GAAID,IAAI,CAACE,SAAS,CAAE,CAChB,GAAIF,IAAI,CAACE,SAAS,EAAIL,KAAK,CAACM,QAAQ,CAAE,CAClCL,MAAM,CAAG,IAAI,CACjB,CACJ,CAAC,IAAM,CACH,GAAIE,IAAI,CAACI,OAAO,CAACC,MAAM,EAAIR,KAAK,CAACM,QAAQ,CAAE,CACvCL,MAAM,CAAG,IAAI,CACjB,CACJ,CAEJ,CACJ,CAAC,CAAC,CACF,MAAOA,OAAM,CACjB,CAGA,MAAO,IAAMQ,UAAS,CAAG,QAAZA,UAAS,MAAW,iCAC/B,GAAMC,SAAQ,CAAGpB,WAAW,EAAE,CAC9B,GAAMS,SAAQ,CAAGV,WAAW,CAAC,SAAAsB,KAAK,QAAIA,MAAK,CAACZ,QAAQ,GAAC,CACrD,GAAMa,SAAQ,CAAGnB,WAAW,EAAE,CAC9B,mBACE,KAAC,MAAM,EACH,aAAa,CAAE,CAAEW,QAAQ,CAAE,EAAE,CAAEE,QAAQ,CAAE,EAAE,CAAE,CAC7C,gBAAgB,CAAElB,GAAG,CAACyB,MAAM,CAAC,CACzBT,QAAQ,CAAEhB,GAAG,CAAC0B,MAAM,EAAE,CAACC,QAAQ,CAAC,UAAU,CAAC,CAC3CT,QAAQ,CAAElB,GAAG,CAAC0B,MAAM,EAAE,CAACC,QAAQ,CAAC,mBAAmB,CACvD,CAAC,CAAE,CACH,QAAQ,CAAE,kBAACC,MAAM,CAAEC,OAAO,CAAK,CAC3BP,QAAQ,CAAChB,aAAa,CAACsB,MAAM,CAAC,CAAC,CAC/B,GAAIlB,kBAAkB,CAACC,QAAQ,CAAEiB,MAAM,CAAC,CAAE,CACtCJ,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,IAAM,CACHhB,KAAK,CAACsB,KAAK,CAAC,+BAA+B,CAAC,CAChD,CACAD,OAAO,CAACE,aAAa,CAAC,KAAK,CAAC,CAC5BF,OAAO,CAACG,SAAS,EAAE,CACvB,CAAE,uBAEF,KAAC,IAAI,wBACD,aAAK,SAAS,CAAC,0BAA0B,wBACrC,aAAK,SAAS,CAAC,0BAA0B,wBACrC,cAAO,OAAO,CAAC,UAAU,0BAAqB,cAC9C,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,cACrD,KAAC,YAAY,EAAC,IAAI,CAAC,UAAU,EAAG,GAC9B,cACN,aAAK,SAAS,CAAC,0BAA0B,wBACrC,cAAO,OAAO,CAAC,UAAU,sBAAiB,cAC1C,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAG,cACzC,KAAC,YAAY,EAAC,IAAI,CAAC,UAAU,EAAG,GAC9B,cAEN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,4NAA4N,oBAEnP,GACP,EACH,EACF,CAEb,CAAC"},"metadata":{},"sourceType":"module"}