{"ast":null,"code":"import _classCallCheck from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw4-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw4-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw4-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw4-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Formik,Field,Form,ErrorMessage}from'formik';import React,{Component}from'react';import{connect}from'react-redux';import*as Yup from'yup';import{addPosts}from'../../actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddPost=/*#__PURE__*/function(_Component){_inherits(AddPost,_Component);var _super=_createSuper(AddPost);function AddPost(){var _this;_classCallCheck(this,AddPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmit=function(values,actions){values['userId']=_this.props.userID;_this.props.addPost(values);actions.setSubmitting(false);actions.resetForm();};return _this;}_createClass(AddPost,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Formik,{initialValues:{title:'',body:''},validationSchema:Yup.object({title:Yup.string().required(\"Required\"),body:Yup.string().required(\"Required\")}),onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(Form,{className:\"bg-sky-100 rounded-lg p-10 m-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block px-5 py-2\",children:[/*#__PURE__*/_jsx(Field,{name:\"title\",type:\"text\",className:\"mt-1\",placeholder:\"Add Your Title Here\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block px-5 py-2\",children:[/*#__PURE__*/_jsx(Field,{name:\"body\",type:\"text\",className:\"mt-1\",placeholder:\"Add Your Contents Here\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"body\"})]}),/*#__PURE__*/_jsx(Field,{name:\"image\",type:\"file\",className:\"mt-1\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"py-2 mx-4 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Add Post\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"py-2 mx-4 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Cancel\"})]})});}}]);return AddPost;}(Component);var mapStateToProps=function mapStateToProps(state){return{userID:state.riceZoneApp.currentUserID};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addPost:function addPost(post){return dispatch(addPosts(post));}};};export default connect(mapStateToProps,mapDispatchToProps)(AddPost);","map":{"version":3,"names":["Formik","Field","Form","ErrorMessage","React","Component","connect","Yup","addPosts","AddPost","handleSubmit","values","actions","props","userID","addPost","setSubmitting","resetForm","title","body","object","string","required","mapStateToProps","state","riceZoneApp","currentUserID","mapDispatchToProps","dispatch","post"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw4-frankfeng98/ricezone/src/components/MainPage/AddPost.jsx"],"sourcesContent":["import { Formik, Field, Form, ErrorMessage } from 'formik'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as Yup from 'yup';\nimport { addPosts } from '../../actions';\n\nexport class AddPost extends Component {\n  handleSubmit =(values, actions) => {\n    values['userId'] = this.props.userID;\n    this.props.addPost(values);\n    actions.setSubmitting(false);\n    actions.resetForm();\n  }\n\n  render() {\n    return (\n        <Formik\n            initialValues={{title: '', body: ''}}\n            validationSchema={Yup.object({\n                title:Yup.string().required(\"Required\"),\n                body: Yup.string().required(\"Required\")\n            })}\n            onSubmit={this.handleSubmit}\n        >\n            <Form className='bg-sky-100 rounded-lg p-10 m-3'>\n                <div className=\"flex flex-col mb-2 block px-5 py-2\">\n                    <Field name=\"title\" type=\"text\" className=\"mt-1\" placeholder=\"Add Your Title Here\"/>\n                    <ErrorMessage name=\"title\" />\n                </div>\n                <div className=\"flex flex-col mb-2 block px-5 py-2\">\n                    <Field name=\"body\" type=\"text\" className=\"mt-1\" placeholder=\"Add Your Contents Here\"/>\n                    <ErrorMessage name=\"body\" />\n                </div>\n                <Field name=\"image\" type=\"file\" className=\"mt-1\"></Field>\n                <button type=\"submit\" className=\"py-2 mx-4 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                Add Post\n                </button>\n                <button type=\"reset\" className=\"py-2 mx-4 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                Cancel\n                </button>\n            </Form>    \n        </Formik>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userID: state.riceZoneApp.currentUserID\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (post) => dispatch(addPosts(post))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPost)"],"mappings":"omBAAA,OAASA,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,YAAY,KAAQ,QAAQ,CAC1D,MAAOC,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,GAAKC,IAAG,KAAM,KAAK,CAC1B,OAASC,QAAQ,KAAQ,eAAe,CAAC,wFAEzC,UAAaC,QAAO,+TAClBC,YAAY,CAAE,SAACC,MAAM,CAAEC,OAAO,CAAK,CACjCD,MAAM,CAAC,QAAQ,CAAC,CAAG,MAAKE,KAAK,CAACC,MAAM,CACpC,MAAKD,KAAK,CAACE,OAAO,CAACJ,MAAM,CAAC,CAC1BC,OAAO,CAACI,aAAa,CAAC,KAAK,CAAC,CAC5BJ,OAAO,CAACK,SAAS,EAAE,CACrB,CAAC,yDAED,iBAAS,CACP,mBACI,KAAC,MAAM,EACH,aAAa,CAAE,CAACC,KAAK,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAE,CACrC,gBAAgB,CAAEZ,GAAG,CAACa,MAAM,CAAC,CACzBF,KAAK,CAACX,GAAG,CAACc,MAAM,EAAE,CAACC,QAAQ,CAAC,UAAU,CAAC,CACvCH,IAAI,CAAEZ,GAAG,CAACc,MAAM,EAAE,CAACC,QAAQ,CAAC,UAAU,CAC1C,CAAC,CAAE,CACH,QAAQ,CAAE,IAAI,CAACZ,YAAa,uBAE5B,MAAC,IAAI,EAAC,SAAS,CAAC,gCAAgC,wBAC5C,aAAK,SAAS,CAAC,oCAAoC,wBAC/C,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,qBAAqB,EAAE,cACpF,KAAC,YAAY,EAAC,IAAI,CAAC,OAAO,EAAG,GAC3B,cACN,aAAK,SAAS,CAAC,oCAAoC,wBAC/C,KAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,wBAAwB,EAAE,cACtF,KAAC,YAAY,EAAC,IAAI,CAAC,MAAM,EAAG,GAC1B,cACN,KAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAS,cACzD,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,4NAA4N,sBAEnP,cACT,eAAQ,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,4NAA4N,oBAElP,GACN,EACF,CAEf,CAAC,qBArC0BL,SAAS,EAwCtC,GAAMkB,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,CAAK,CAC/B,MAAO,CACHV,MAAM,CAAEU,KAAK,CAACC,WAAW,CAACC,aAC9B,CAAC,CACL,CAAC,CAED,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,QAAQ,CAAK,CACrC,MAAO,CACHb,OAAO,CAAE,iBAACc,IAAI,QAAKD,SAAQ,CAACpB,QAAQ,CAACqB,IAAI,CAAC,CAAC,EAC/C,CAAC,CACL,CAAC,CAED,cAAevB,QAAO,CAACiB,eAAe,CAAEI,kBAAkB,CAAC,CAAClB,OAAO,CAAC"},"metadata":{},"sourceType":"module"}