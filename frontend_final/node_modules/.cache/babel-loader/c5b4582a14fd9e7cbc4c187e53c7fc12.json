{"ast":null,"code":"import _slicedToArray from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button}from'flowbite-react';import React from'react';import{useState}from'react';import{Toaster}from'react-hot-toast';import AddComment from'./AddComment';import{Comment}from'./Comment';import EditArticle from'./EditArticle';import parse from'html-react-parser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var post=_ref.post,user=_ref.user,time=_ref.time;var _useState=useState('Show comment'),_useState2=_slicedToArray(_useState,2),buttonComment=_useState2[0],setButton=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShown=_useState4[0],setIsShown=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isShownAddComment=_useState6[0],setIsShownAddComment=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isShownEdit=_useState8[0],setIsShownEdit=_useState8[1];var read_time=time.replace(\"T\",\" \");var handleClick=function handleClick(event){setIsShown(function(current){return!current;});if(isShown){setButton('Show comment');}else{setButton('Hide comment');}};var handleAddComment=function handleAddComment(event){setIsShownAddComment(function(current){return!current;});};var handleEdit=function handleEdit(event){setIsShownEdit(function(current){return!current;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-sky-100 rounded-lg m-3 p-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:read_time}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-lg italic\",children:[\"Author: \",user]}),/*#__PURE__*/_jsx(\"div\",{children:parse(post.image)}),/*#__PURE__*/_jsx(\"div\",{children:post.text}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"py-2 my-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:buttonComment}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddComment,className:\"py-2 my-2 mx-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"py-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Edit\"}),isShown&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-400 rounded-md p-5\",children:post.comments.map(function(comment,index){return/*#__PURE__*/_jsx(Comment,{comment:comment,articleId:post.pid},index);})}),isShownAddComment&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-400 rounded-md p-5\",children:/*#__PURE__*/_jsx(AddComment,{articleId:post.pid})}),isShownEdit&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(EditArticle,{articleId:post.pid,author:post.author})}),/*#__PURE__*/_jsx(Toaster,{})]});};export default Post;","map":{"version":3,"names":["Button","React","useState","Toaster","AddComment","Comment","EditArticle","parse","Post","post","user","time","buttonComment","setButton","isShown","setIsShown","isShownAddComment","setIsShownAddComment","isShownEdit","setIsShownEdit","read_time","replace","handleClick","event","current","handleAddComment","handleEdit","image","text","comments","map","comment","index","pid","author"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/src/components/MainPage/Post.jsx"],"sourcesContent":["import { Button } from 'flowbite-react'\nimport React from 'react'\nimport { useState } from 'react';\nimport { Toaster } from 'react-hot-toast';\nimport AddComment from './AddComment';\nimport { Comment } from './Comment';\nimport EditArticle from './EditArticle';\nimport parse from 'html-react-parser';\n\nconst Post = ({post, user, time}) => {\n  const [buttonComment, setButton] = useState('Show comment'); \n  const [isShown, setIsShown] = useState(false);\n  const [isShownAddComment, setIsShownAddComment] = useState(false);\n  const [isShownEdit, setIsShownEdit] = useState(false);\n  let read_time = time.replace(\"T\", \" \");\n  const handleClick = event => {\n    setIsShown(current => !current);\n    if (isShown) {\n      setButton('Show comment');\n    } else {\n      setButton('Hide comment');\n    }\n  }\n\n  const handleAddComment = event => {\n    setIsShownAddComment(current => !current);\n  }\n\n  const handleEdit = event => {\n    setIsShownEdit(current => !current);\n  }\n\n  return (\n    <div className='bg-sky-100 rounded-lg m-3 p-4'>\n      <div>{read_time}</div>\n      <div className='font-bold text-lg italic'>Author: {user}</div>\n      <div>{parse(post.image)}</div>\n      <div>{post.text}</div>\n      <button onClick={handleClick} className=\"py-2 my-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n        {buttonComment}\n      </button>\n      <button onClick={handleAddComment} className=\"py-2 my-2 mx-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n        Comment\n      </button>\n      <button onClick={handleEdit} className=\"py-2 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n        Edit\n      </button>\n      {isShown && (\n        <div className='bg-indigo-400 rounded-md p-5'>\n          {post.comments.map((comment, index) => (\n              <Comment key={index} comment={comment} articleId={post.pid}/>\n          ))}\n        </div>\n      )}\n      {isShownAddComment && (\n        <div className='bg-indigo-400 rounded-md p-5'>\n          <AddComment articleId={post.pid}/>\n        </div>\n      )}\n      {isShownEdit && (\n        <div>\n          <EditArticle articleId={post.pid} author={post.author}/>\n        </div>\n      )}\n      <Toaster /> \n    </div>\n  )\n}\n\nexport default Post"],"mappings":"4KAAA,OAASA,MAAM,KAAQ,gBAAgB,CACvC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAOC,WAAU,KAAM,cAAc,CACrC,OAASC,OAAO,KAAQ,WAAW,CACnC,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,MAAK,KAAM,mBAAmB,CAAC,wFAEtC,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAA2B,IAAtBC,KAAI,MAAJA,IAAI,CAAEC,IAAI,MAAJA,IAAI,CAAEC,IAAI,MAAJA,IAAI,CAC7B,cAAmCT,QAAQ,CAAC,cAAc,CAAC,wCAApDU,aAAa,eAAEC,SAAS,eAC/B,eAA8BX,QAAQ,CAAC,KAAK,CAAC,yCAAtCY,OAAO,eAAEC,UAAU,eAC1B,eAAkDb,QAAQ,CAAC,KAAK,CAAC,yCAA1Dc,iBAAiB,eAAEC,oBAAoB,eAC9C,eAAsCf,QAAQ,CAAC,KAAK,CAAC,yCAA9CgB,WAAW,eAAEC,cAAc,eAClC,GAAIC,UAAS,CAAGT,IAAI,CAACU,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CACtC,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAGC,KAAK,CAAI,CAC3BR,UAAU,CAAC,SAAAS,OAAO,QAAI,CAACA,OAAO,GAAC,CAC/B,GAAIV,OAAO,CAAE,CACXD,SAAS,CAAC,cAAc,CAAC,CAC3B,CAAC,IAAM,CACLA,SAAS,CAAC,cAAc,CAAC,CAC3B,CACF,CAAC,CAED,GAAMY,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAGF,KAAK,CAAI,CAChCN,oBAAoB,CAAC,SAAAO,OAAO,QAAI,CAACA,OAAO,GAAC,CAC3C,CAAC,CAED,GAAME,WAAU,CAAG,QAAbA,WAAU,CAAGH,KAAK,CAAI,CAC1BJ,cAAc,CAAC,SAAAK,OAAO,QAAI,CAACA,OAAO,GAAC,CACrC,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,+BAA+B,wBAC5C,qBAAMJ,SAAS,EAAO,cACtB,aAAK,SAAS,CAAC,0BAA0B,sBAAUV,IAAI,GAAO,cAC9D,qBAAMH,KAAK,CAACE,IAAI,CAACkB,KAAK,CAAC,EAAO,cAC9B,qBAAMlB,IAAI,CAACmB,IAAI,EAAO,cACtB,eAAQ,OAAO,CAAEN,WAAY,CAAC,SAAS,CAAC,4NAA4N,UACjQV,aAAa,EACP,cACT,eAAQ,OAAO,CAAEa,gBAAiB,CAAC,SAAS,CAAC,iOAAiO,qBAErQ,cACT,eAAQ,OAAO,CAAEC,UAAW,CAAC,SAAS,CAAC,uNAAuN,kBAErP,CACRZ,OAAO,eACN,YAAK,SAAS,CAAC,8BAA8B,UAC1CL,IAAI,CAACoB,QAAQ,CAACC,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,qBAC9B,KAAC,OAAO,EAAa,OAAO,CAAED,OAAQ,CAAC,SAAS,CAAEtB,IAAI,CAACwB,GAAI,EAA7CD,KAAK,CAA0C,EAChE,CAAC,EAEL,CACAhB,iBAAiB,eAChB,YAAK,SAAS,CAAC,8BAA8B,uBAC3C,KAAC,UAAU,EAAC,SAAS,CAAEP,IAAI,CAACwB,GAAI,EAAE,EAErC,CACAf,WAAW,eACV,kCACE,KAAC,WAAW,EAAC,SAAS,CAAET,IAAI,CAACwB,GAAI,CAAC,MAAM,CAAExB,IAAI,CAACyB,MAAO,EAAE,EAE3D,cACD,KAAC,OAAO,IAAG,GACP,CAEV,CAAC,CAED,cAAe1B,KAAI"},"metadata":{},"sourceType":"module"}