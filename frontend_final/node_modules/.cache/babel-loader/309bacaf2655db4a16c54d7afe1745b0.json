{"ast":null,"code":"import { createReducer, current } from \"@reduxjs/toolkit\";\nimport { loadUsers, loadPosts, USERS_LOADED, USERS_ADDED, VALIDATE_USERS, RESET_VALIDATE, POSTS_LOADED, GET_POSTS, FITER_POSTS, ADD_POSTS, FETCH_FOLLOWERS, REMOVE_FOLLOWERS, ADD_FOLLOWERS, UPDATE_HEADLINE, UPDATE_PROFILE, GET_PROFILE, LOG_OUT } from \"./actions\";\nconst url = path => `http://localhost:3001${path}`;\nconst initialState = {\n  userList: [],\n  userExisted: false,\n  userValidated: false,\n  postList: [],\n  currentPost: [],\n  displayPost: [],\n  postNum: 0,\n  userNum: 0,\n  currentUser: '',\n  profile_username: '',\n  timeStamp: '',\n  defaultHeadLine: 'hello world',\n  userHeadlineList: [{\n    'userId': 1,\n    'headline': 'hello world'\n  }, {\n    'userId': 2,\n    'headline': 'hello world'\n  }, {\n    'userId': 3,\n    'headline': 'hello world'\n  }, {\n    'userId': 4,\n    'headline': 'hello world'\n  }, {\n    'userId': 5,\n    'headline': 'hello world'\n  }, {\n    'userId': 6,\n    'headline': 'hello world'\n  }, {\n    'userId': 7,\n    'headline': 'hello world'\n  }, {\n    'userId': 8,\n    'headline': 'hello world'\n  }, {\n    'userId': 9,\n    'headline': 'hello world'\n  }, {\n    'userId': 10,\n    'headline': 'hello world'\n  }],\n  followerList: [],\n  addFollowerSuccess: false,\n  followerReference: [{\n    'userId': 1,\n    'following': [2, 3, 4]\n  }, {\n    'userId': 2,\n    'following': [3, 4, 5]\n  }, {\n    'userId': 3,\n    'following': [4, 5, 6]\n  }, {\n    'userId': 4,\n    'following': [5, 6, 7]\n  }, {\n    'userId': 5,\n    'following': [6, 7, 8]\n  }, {\n    'userId': 6,\n    'following': [7, 8, 9]\n  }, {\n    'userId': 7,\n    'following': [8, 9, 10]\n  }, {\n    'userId': 8,\n    'following': [9, 10, 1]\n  }, {\n    'userId': 9,\n    'following': [10, 1, 2]\n  }, {\n    'userId': 10,\n    'following': [1, 2, 3]\n  }]\n};\nexport async function riceZoneApp() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    //load placehoder users\n    case USERS_LOADED:\n      let date = new Date();\n      let userList_placehoder = [];\n      action.payload.forEach(user => {\n        user['password1'] = user.address.street;\n        user['zipcode'] = user.address.zipcode;\n        userList_placehoder.push(user);\n      });\n      return {\n        ...state,\n        userNum: action.payload.length,\n        userList: [...userList_placehoder],\n        timeStamp: date.toLocaleString(),\n        defaultHeadLine: 'hello world'\n      };\n    case USERS_ADDED:\n      let payload = action.payload;\n      let userExists = false;\n      let userValidated = false;\n      await fetch(url('/register'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      }).then(res => res.json()).then(res => {\n        console.log(res);\n        if (res.result === \"User already exists\") {\n          userExists = true;\n        }\n        userValidated = true;\n      });\n      return {\n        ...state,\n        userExisted: userExists,\n        userValidated: true\n      };\n    case VALIDATE_USERS:\n      let logIn = action.payload;\n      let result = false;\n      let currentUser;\n      state.userList.forEach(user => {\n        if (user.username === logIn.username) {\n          if (user.password1 == logIn.password) {\n            result = true;\n            currentUser = user;\n          }\n        }\n      });\n      return {\n        ...state,\n        userValidated: result,\n        currentUser: currentUser\n      };\n    case RESET_VALIDATE:\n      return {\n        ...state,\n        usersValidated: false\n      };\n    case POSTS_LOADED:\n      return {\n        ...state,\n        postList: [...action.payload],\n        postNum: action.payload.length\n      };\n    case GET_POSTS:\n      let posts = [...state.postList];\n      let currentPosts = [];\n      posts.forEach(post => {\n        if (post.userId === action.payload.id) {\n          post['author'] = action.payload.username;\n          currentPosts.push(post);\n        }\n        state.followerList.forEach(follower => {\n          if (post.userId === follower.id) {\n            post['author'] = follower.username;\n            currentPosts.unshift(post);\n          }\n        });\n      });\n      return {\n        ...state,\n        currentPost: [...currentPosts],\n        displayPost: [...currentPosts]\n      };\n    case FITER_POSTS:\n      let filterPosts = [...state.currentPost];\n      let query = action.payload;\n      let displayPosts = [];\n      if (query === '') {\n        displayPosts = filterPosts;\n      } else {\n        filterPosts.forEach(post => {\n          if (post.title.toLowerCase().includes(query.toLowerCase()) || post.body.toLowerCase().includes(query.toLowerCase())) {\n            displayPosts.push(post);\n          }\n        });\n      }\n      return {\n        ...state,\n        displayPost: displayPosts\n      };\n    case ADD_POSTS:\n      let originalPosts = [...state.currentPost];\n      let postToBeAdd = action.payload;\n      let currentPostNum = state.postNum;\n      postToBeAdd['author'] = state.currentUser.username;\n      currentPostNum += 1;\n      postToBeAdd['id'] = currentPostNum;\n      originalPosts.unshift(postToBeAdd);\n      return {\n        ...state,\n        postNum: currentPostNum,\n        currentPost: originalPosts,\n        displayPost: originalPosts\n      };\n    case FETCH_FOLLOWERS:\n      let followerData = [...state.followerReference];\n      let follower = [];\n      followerData.forEach(user => {\n        if (user.userId === action.payload) {\n          follower = user.following.map((post, index) => {\n            let user_added = '';\n            state.userList.forEach(user => {\n              if (user.id === post) {\n                user_added = user;\n              }\n            });\n            return user_added;\n          });\n        }\n      });\n      return {\n        ...state,\n        followerList: [...follower]\n      };\n    case REMOVE_FOLLOWERS:\n      let currentFollower = [...state.followerList];\n      let filteredFollower = currentFollower.filter(follower => {\n        return follower.username !== action.payload.username;\n      });\n      return {\n        ...state,\n        followerList: [...filteredFollower]\n      };\n    case ADD_FOLLOWERS:\n      let currentFollowerList = [...state.followerList];\n      let addFollowerSuccess = false;\n      if (state.currentUser.username !== action.payload.follower) {\n        state.userList.forEach(user => {\n          if (user.username === action.payload.follower) {\n            currentFollowerList.unshift(user);\n            addFollowerSuccess = true;\n          }\n        });\n      }\n      return {\n        ...state,\n        followerList: [...currentFollowerList],\n        addFollowerSuccess: addFollowerSuccess\n      };\n    case UPDATE_HEADLINE:\n      let userheadline = [...state.userHeadlineList];\n      userheadline.forEach(user => {\n        if (user.userId === state.currentUser.id) {\n          user.headline = action.payload.headline;\n        }\n      });\n      return {\n        ...state,\n        userHeadlineList: [...userheadline]\n      };\n    case GET_PROFILE:\n      return {\n        ...state,\n        profile_username: action.payload\n      };\n    case UPDATE_PROFILE:\n      let updatedUser = {};\n      Object.assign(updatedUser, state.currentUser);\n      if (action.payload.email !== '') {\n        updatedUser.email = action.payload.email;\n      }\n      if (action.payload.phone !== '') {\n        updatedUser.phone = action.payload.phone;\n      }\n      if (action.payload.zipcode !== '') {\n        updatedUser.zipcode = action.payload.zipcode;\n      }\n      if (action.payload.password1 !== '') {\n        updatedUser.password1 = action.payload.password;\n      }\n      return {\n        ...state,\n        currentUser: updatedUser\n      };\n    case LOG_OUT:\n      return {\n        ...state,\n        currentUser: '',\n        userValidated: false\n      };\n    default:\n      return state;\n  }\n}\nexport async function fetchUsers(dispatch, getState) {\n  const response = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n  const data = await response.json();\n  dispatch(loadUsers(data));\n}\nexport async function fetchPosts(dispatch, getState) {\n  const response = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\n  const data = await response.json();\n  dispatch(loadPosts(data));\n}\nexport default {\n  riceZoneApp\n};","map":{"version":3,"names":["createReducer","current","loadUsers","loadPosts","USERS_LOADED","USERS_ADDED","VALIDATE_USERS","RESET_VALIDATE","POSTS_LOADED","GET_POSTS","FITER_POSTS","ADD_POSTS","FETCH_FOLLOWERS","REMOVE_FOLLOWERS","ADD_FOLLOWERS","UPDATE_HEADLINE","UPDATE_PROFILE","GET_PROFILE","LOG_OUT","url","path","initialState","userList","userExisted","userValidated","postList","currentPost","displayPost","postNum","userNum","currentUser","profile_username","timeStamp","defaultHeadLine","userHeadlineList","followerList","addFollowerSuccess","followerReference","riceZoneApp","state","action","type","date","Date","userList_placehoder","payload","forEach","user","address","street","zipcode","push","length","toLocaleString","userExists","fetch","method","headers","body","JSON","stringify","then","res","json","console","log","result","logIn","username","password1","password","usersValidated","posts","currentPosts","post","userId","id","follower","unshift","filterPosts","query","displayPosts","title","toLowerCase","includes","originalPosts","postToBeAdd","currentPostNum","followerData","following","map","index","user_added","currentFollower","filteredFollower","filter","currentFollowerList","userheadline","headline","updatedUser","Object","assign","email","phone","fetchUsers","dispatch","getState","response","data","fetchPosts"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/src/reducers.js"],"sourcesContent":["import { createReducer, current } from \"@reduxjs/toolkit\"\nimport { loadUsers, loadPosts, USERS_LOADED, USERS_ADDED, VALIDATE_USERS, RESET_VALIDATE, POSTS_LOADED, GET_POSTS, FITER_POSTS, ADD_POSTS, FETCH_FOLLOWERS, REMOVE_FOLLOWERS, ADD_FOLLOWERS, UPDATE_HEADLINE, UPDATE_PROFILE, GET_PROFILE, LOG_OUT } from \"./actions\"\n\n\nconst url = path => `http://localhost:3001${path}`;\nconst initialState = {\n    userList: [],\n    userExisted: false,\n    userValidated: false,\n    postList: [],\n    currentPost: [],\n    displayPost: [],\n    postNum: 0,\n    userNum: 0,\n    currentUser: '',\n    profile_username: '',\n    timeStamp: '',\n    defaultHeadLine: 'hello world',\n    userHeadlineList: [\n        {'userId': 1, 'headline': 'hello world'},\n        {'userId': 2, 'headline': 'hello world'},\n        {'userId': 3, 'headline': 'hello world'},\n        {'userId': 4, 'headline': 'hello world'},\n        {'userId': 5, 'headline': 'hello world'},\n        {'userId': 6, 'headline': 'hello world'},\n        {'userId': 7, 'headline': 'hello world'},\n        {'userId': 8, 'headline': 'hello world'},\n        {'userId': 9, 'headline': 'hello world'},\n        {'userId': 10, 'headline': 'hello world'}\n    ],\n    followerList: [],\n    addFollowerSuccess: false,\n    followerReference: [\n        {'userId': 1, 'following': [2, 3, 4]},\n        {'userId': 2, 'following': [3, 4, 5]},\n        {'userId': 3, 'following': [4, 5, 6]},\n        {'userId': 4, 'following': [5, 6, 7]},\n        {'userId': 5, 'following': [6, 7, 8]},\n        {'userId': 6, 'following': [7, 8, 9]},\n        {'userId': 7, 'following': [8, 9, 10]},\n        {'userId': 8, 'following': [9, 10, 1]},\n        {'userId': 9, 'following': [10, 1, 2]},\n        {'userId': 10, 'following': [1, 2, 3]}\n    ]\n}\n\nexport async function riceZoneApp( state = initialState, action) {\n    switch (action.type) {\n        //load placehoder users\n        case USERS_LOADED:\n            let date = new Date();\n            let userList_placehoder = []\n            action.payload.forEach(user => {\n                user['password1'] = user.address.street\n                user['zipcode'] = user.address.zipcode\n                userList_placehoder.push(user)\n            });\n            return {\n                ...state,\n                userNum: action.payload.length,\n                userList: [...userList_placehoder],\n                timeStamp: date.toLocaleString(),\n                defaultHeadLine: 'hello world'\n            }\n        case USERS_ADDED:\n            let payload = action.payload;\n            let userExists = false;\n            let userValidated = false; \n            await fetch(url('/register'), {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(payload)\n            }).then(res => res.json()).then(res => {\n                console.log(res);\n                if (res.result === \"User already exists\") {\n                    userExists = true;\n                }\n                userValidated = true;\n            })\n            return {\n                ...state,\n                userExisted: userExists,\n                userValidated: true\n            }\n        case VALIDATE_USERS:\n            let logIn = action.payload;\n            let result = false;\n            let currentUser;\n            state.userList.forEach(user => {\n                if (user.username === logIn.username) {\n                    if (user.password1 == logIn.password) {\n                        result = true;\n                        currentUser = user\n                    }\n                    \n                }\n            });\n            return {\n                ...state,\n                userValidated: result,\n                currentUser: currentUser\n            }\n        case RESET_VALIDATE:\n            return {\n                ...state,\n                usersValidated: false\n            }       \n        case POSTS_LOADED:\n            return {\n                ...state,\n                postList: [...action.payload],\n                postNum: action.payload.length\n            }  \n        case GET_POSTS:\n            let posts = [...state.postList];\n            let currentPosts = [];\n            posts.forEach(post => {\n                if (post.userId === action.payload.id) {\n                    post['author'] = action.payload.username;\n                    currentPosts.push(post);\n                }\n                state.followerList.forEach(follower => {\n                    if (post.userId === follower.id) {\n                        post['author'] = follower.username;\n                        currentPosts.unshift(post);\n                    }\n                })\n            });\n            return {\n                ...state,\n                currentPost: [...currentPosts],\n                displayPost: [...currentPosts]\n            }\n        case FITER_POSTS:\n            let filterPosts = [...state.currentPost];\n            let query = action.payload;\n            let displayPosts = [];\n            if (query === '') {\n                displayPosts = filterPosts;\n            } else {\n                filterPosts.forEach(post => {\n                    if (post.title.toLowerCase().includes(query.toLowerCase()) || post.body.toLowerCase().includes(query.toLowerCase())) {\n                        displayPosts.push(post);\n                    }\n                })  \n            }\n            return {\n                ...state,\n                displayPost: displayPosts\n            }\n        case ADD_POSTS:\n            let originalPosts = [...state.currentPost];\n            let postToBeAdd = action.payload;\n            let currentPostNum = state.postNum;\n            postToBeAdd['author'] = state.currentUser.username;\n            currentPostNum += 1;\n            postToBeAdd['id'] = currentPostNum;\n            originalPosts.unshift(postToBeAdd);\n            return {\n                ...state,\n                postNum: currentPostNum,\n                currentPost: originalPosts,\n                displayPost: originalPosts\n            }  \n        case FETCH_FOLLOWERS:\n            let followerData = [...state.followerReference];\n            let follower = [];\n            followerData.forEach(user => {\n                if (user.userId === action.payload) {\n                    follower = user.following.map((post, index) => {\n                        let user_added = '';\n                        state.userList.forEach(user => {\n                            if (user.id === post) {\n                                user_added = user;\n                            }\n                        })\n                        return user_added;\n                    })\n                }\n            });\n            return {\n                ...state,\n                followerList: [...follower]\n            } \n        case REMOVE_FOLLOWERS:\n            let currentFollower = [...state.followerList]\n            let filteredFollower = currentFollower.filter((follower) => {\n                return follower.username !== action.payload.username;\n            });\n            return {\n                ...state,\n                followerList: [...filteredFollower]\n            }  \n        case ADD_FOLLOWERS:\n             let currentFollowerList = [...state.followerList]\n             let addFollowerSuccess = false;\n             if (state.currentUser.username !== action.payload.follower) {\n                state.userList.forEach(user => {\n                    if (user.username === action.payload.follower) {\n                        currentFollowerList.unshift(user);\n                        addFollowerSuccess = true;\n                    }\n                 })\n             }\n             return {\n                ...state,\n                followerList: [...currentFollowerList],\n                addFollowerSuccess: addFollowerSuccess\n             }   \n        case UPDATE_HEADLINE:\n            let userheadline = [...state.userHeadlineList];\n            userheadline.forEach(user => {\n                if (user.userId === state.currentUser.id) {\n                    user.headline = action.payload.headline;\n                }\n            });\n            return {\n                ...state,\n                userHeadlineList: [...userheadline]\n            } \n        case GET_PROFILE:\n            return {\n                ...state,\n                profile_username: action.payload\n            }   \n        case UPDATE_PROFILE:\n            let updatedUser = {}\n            Object.assign(updatedUser, state.currentUser);\n            if (action.payload.email !== '') {\n                updatedUser.email = action.payload.email;\n            }\n            if (action.payload.phone !== '') {\n                updatedUser.phone = action.payload.phone;\n            }\n            if (action.payload.zipcode !== '') {\n                updatedUser.zipcode = action.payload.zipcode;\n            }\n            if (action.payload.password1 !== '') {\n                updatedUser.password1 = action.payload.password;\n            }\n            return {\n                ...state,\n                currentUser: updatedUser\n            }  \n        case LOG_OUT:\n            return {\n                ...state,\n                currentUser: '',\n                userValidated: false\n            }              \n        default:\n            return state;\n    }\n}\n\nexport async function fetchUsers(dispatch, getState) {\n    const response = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n    const data = await response.json();\n    dispatch(loadUsers(data));\n}\n\nexport async function fetchPosts(dispatch, getState) {\n    const response = await fetch(\"https://jsonplaceholder.typicode.com/posts\");\n    const data = await response.json();\n    dispatch(loadPosts(data));\n}\n\nexport default {riceZoneApp} ;"],"mappings":"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"},"metadata":{},"sourceType":"module"}