{"ast":null,"code":"import _regeneratorRuntime from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{getPosts}from'../../actions';import{connect}from'react-redux';import Post from'./Post';import Search from'./search';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Posts=/*#__PURE__*/function(_React$Component){_inherits(Posts,_React$Component);var _super=_createSuper(Posts);function Posts(props){_classCallCheck(this,Posts);return _super.call(this,props);}_createClass(Posts,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.postList;case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return this.props.loading===false?/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg flex flex-col items-center\",children:[/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2\",children:this.props.postList.map(function(post,index){return/*#__PURE__*/_jsx(Post,{post:post,user:post.author,time:post.date},index);})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"loading....\"});}}]);return Posts;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{postList:state.displayPost,user:state.currentUser,loading:state.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getPost:function getPost(user){return dispatch(getPosts(user));}};};export default connect(mapStateToProps,mapDispatchToProps)(Posts);","map":{"version":3,"names":["React","getPosts","connect","Post","Search","Posts","props","postList","loading","map","post","index","author","date","Component","mapStateToProps","state","displayPost","user","currentUser","mapDispatchToProps","dispatch","getPost"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/src/components/MainPage/Posts.jsx"],"sourcesContent":["import React from 'react'\nimport { getPosts } from '../../actions';\nimport { connect } from 'react-redux'\nimport Post from './Post';\nimport Search from './search';\n\nexport class Posts extends React.Component {\n    constructor(props) {\n        super(props);\n        \n    }\n\n    async componentDidMount() {\n        await this.props.postList;\n    }\n\n    render() {\n        return (\n            (this.props.loading === false)?\n            <div className='rounded-lg flex flex-col items-center'>\n                <Search/>\n                <div className='grid grid-cols-2'>\n                    {this.props.postList.map((post, index) => (\n                        <Post key={index} post = {post} user = {post.author} time={post.date}/>\n                    ))}\n                </div>\n            </div>\n            :<div>loading....</div>  \n          )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        postList: state.displayPost,\n        user: state.currentUser,\n        loading: state.loading\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getPost: (user) => dispatch(getPosts(user))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Posts)"],"mappings":"wgCAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,eAAe,CACxC,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,OAAM,KAAM,UAAU,CAAC,wFAE9B,UAAaC,MAAK,0GACd,eAAYC,KAAK,CAAE,qDACTA,KAAK,EAEf,CAAC,+IAED,2JACU,KAAI,CAACA,KAAK,CAACC,QAAQ,4DAC5B,mIAED,iBAAS,CACL,MACK,KAAI,CAACD,KAAK,CAACE,OAAO,GAAK,KAAK,cAC7B,aAAK,SAAS,CAAC,uCAAuC,wBAClD,KAAC,MAAM,IAAE,cACT,YAAK,SAAS,CAAC,kBAAkB,UAC5B,IAAI,CAACF,KAAK,CAACC,QAAQ,CAACE,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACjC,KAAC,IAAI,EAAa,IAAI,CAAID,IAAK,CAAC,IAAI,CAAIA,IAAI,CAACE,MAAO,CAAC,IAAI,CAAEF,IAAI,CAACG,IAAK,EAA1DF,KAAK,CAAuD,EAC1E,CAAC,EACA,GACJ,cACL,oCAAsB,CAE/B,CAAC,mBAvBsBX,KAAK,CAACc,SAAS,EA0B1C,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,KAAK,CAAK,CAC/B,MAAO,CACHT,QAAQ,CAAES,KAAK,CAACC,WAAW,CAC3BC,IAAI,CAAEF,KAAK,CAACG,WAAW,CACvBX,OAAO,CAAEQ,KAAK,CAACR,OACnB,CAAC,CACL,CAAC,CAED,GAAMY,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,QAAQ,CAAK,CACrC,MAAO,CACHC,OAAO,CAAE,iBAACJ,IAAI,QAAKG,SAAQ,CAACpB,QAAQ,CAACiB,IAAI,CAAC,CAAC,EAC/C,CAAC,CACL,CAAC,CAED,cAAehB,QAAO,CAACa,eAAe,CAAEK,kBAAkB,CAAC,CAACf,KAAK,CAAC"},"metadata":{},"sourceType":"module"}