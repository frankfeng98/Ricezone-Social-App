{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import React,{useEffect}from'react';import{Formik,Field,Form,ErrorMessage}from'formik';import*as Yup from'yup';import{useSelector,useDispatch,shallowEqual}from'react-redux';import{Navigate,useNavigate}from'react-router-dom';import{validateUsers,resetValidate}from'../actions';import{logInUser}from'../reducers';import toast,{Toaster}from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LogInForm=function LogInForm(_ref){_objectDestructuringEmpty(_ref);var isLoggedIn=useSelector(function(state){return state.userValidated;});var toggle=useSelector(function(state){return state.toggle;});var navigate=useNavigate();var dispatch=useDispatch();var HandleLogIn=function HandleLogIn(value){dispatch(logInUser(value));};useEffect(function(){if(isLoggedIn){navigate('/main');}else{toast.error('Log In Information incorrect.');}});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Formik,{initialValues:{username:'',password:''},validationSchema:Yup.object({username:Yup.string().required(\"Required\"),password:Yup.string().required(\"Password required\")}),onSubmit:function onSubmit(values,actions){HandleLogIn(values);actions.setSubmitting(false);actions.resetForm();},children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Account Name\"}),/*#__PURE__*/_jsx(Field,{name:\"username\",type:\"text\",className:\"mt-1\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mb-2 block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"py-2 my-3 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Log In\"})]})})})});};","map":{"version":3,"names":["React","useEffect","Formik","Field","Form","ErrorMessage","Yup","useSelector","useDispatch","shallowEqual","Navigate","useNavigate","validateUsers","resetValidate","logInUser","toast","Toaster","LogInForm","isLoggedIn","state","userValidated","toggle","navigate","dispatch","HandleLogIn","value","error","username","password","object","string","required","values","actions","setSubmitting","resetForm"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw7/final-frontend-frankfeng98/ricezone/src/components/LogInForm.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport { validateUsers, resetValidate } from '../actions';\nimport { logInUser } from '../reducers';\nimport toast, { Toaster } from 'react-hot-toast';\n\n\nexport const LogInForm = ({}) => {\n    const isLoggedIn = useSelector(state => state.userValidated);\n    const toggle = useSelector(state => state.toggle);\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n    const HandleLogIn = (value) => {\n        dispatch(logInUser(value));\n    }\n    useEffect(() => {\n        if (isLoggedIn) {\n            navigate('/main');\n        } else {\n            toast.error('Log In Information incorrect.');\n        }\n    })\n  return (\n    <div>\n        <Formik\n            initialValues={{ username: '', password: ''}}\n            validationSchema={Yup.object({\n                username: Yup.string().required(\"Required\"),\n                password: Yup.string().required(\"Password required\")\n            })}\n            onSubmit={(values, actions) => {\n                HandleLogIn(values);\n                actions.setSubmitting(false);\n                actions.resetForm();\n            }}\n        >\n            <Form>\n                <div className=\"flex flex-col mb-2 block\">\n                    <div className=\"flex flex-col mb-2 block\">\n                        <label htmlFor=\"username\">Account Name</label>\n                        <Field name=\"username\" type=\"text\" className=\"mt-1\"/>\n                        <ErrorMessage name=\"username\" />\n                    </div>\n                    <div className='flex flex-col mb-2 block'>\n                        <label htmlFor=\"password\">Password</label>\n                        <Field name=\"password\" type=\"password\" />\n                        <ErrorMessage name=\"password\" />\n                    </div>\n                    <button type=\"submit\" className=\"py-2 my-3 items-center rounded-md border border-transparent bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n                    Log In\n                    </button>\n                </div>\n            </Form>\n        </Formik>\n    </div>\n    \n  )\n};\n\n"],"mappings":"kMAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,YAAY,KAAQ,QAAQ,CAC1D,MAAO,GAAKC,IAAG,KAAM,KAAK,CAC1B,OAASC,WAAW,CAAEC,WAAW,CAAEC,YAAY,KAAQ,aAAa,CACpE,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CACxD,OAASC,aAAa,CAAEC,aAAa,KAAQ,YAAY,CACzD,OAASC,SAAS,KAAQ,aAAa,CACvC,MAAOC,MAAK,EAAIC,OAAO,KAAQ,iBAAiB,CAAC,wFAGjD,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAS,MAAW,iCAC7B,GAAMC,WAAU,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAIA,MAAK,CAACC,aAAa,GAAC,CAC5D,GAAMC,OAAM,CAAGd,WAAW,CAAC,SAAAY,KAAK,QAAIA,MAAK,CAACE,MAAM,GAAC,CACjD,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,GAAMY,SAAQ,CAAGf,WAAW,EAAE,CAC9B,GAAMgB,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAK,CAC3BF,QAAQ,CAACT,SAAS,CAACW,KAAK,CAAC,CAAC,CAC9B,CAAC,CACDxB,SAAS,CAAC,UAAM,CACZ,GAAIiB,UAAU,CAAE,CACZI,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,IAAM,CACHP,KAAK,CAACW,KAAK,CAAC,+BAA+B,CAAC,CAChD,CACJ,CAAC,CAAC,CACJ,mBACE,kCACI,KAAC,MAAM,EACH,aAAa,CAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAE,CAAE,CAC7C,gBAAgB,CAAEtB,GAAG,CAACuB,MAAM,CAAC,CACzBF,QAAQ,CAAErB,GAAG,CAACwB,MAAM,EAAE,CAACC,QAAQ,CAAC,UAAU,CAAC,CAC3CH,QAAQ,CAAEtB,GAAG,CAACwB,MAAM,EAAE,CAACC,QAAQ,CAAC,mBAAmB,CACvD,CAAC,CAAE,CACH,QAAQ,CAAE,kBAACC,MAAM,CAAEC,OAAO,CAAK,CAC3BT,WAAW,CAACQ,MAAM,CAAC,CACnBC,OAAO,CAACC,aAAa,CAAC,KAAK,CAAC,CAC5BD,OAAO,CAACE,SAAS,EAAE,CACvB,CAAE,uBAEF,KAAC,IAAI,wBACD,aAAK,SAAS,CAAC,0BAA0B,wBACrC,aAAK,SAAS,CAAC,0BAA0B,wBACrC,cAAO,OAAO,CAAC,UAAU,0BAAqB,cAC9C,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,cACrD,KAAC,YAAY,EAAC,IAAI,CAAC,UAAU,EAAG,GAC9B,cACN,aAAK,SAAS,CAAC,0BAA0B,wBACrC,cAAO,OAAO,CAAC,UAAU,sBAAiB,cAC1C,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAG,cACzC,KAAC,YAAY,EAAC,IAAI,CAAC,UAAU,EAAG,GAC9B,cACN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,4NAA4N,oBAEnP,GACP,EACH,EACF,EACP,CAGV,CAAC"},"metadata":{},"sourceType":"module"}