{"ast":null,"code":"import _toConsumableArray from \"/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw6/hw6-frontend-frankfeng98/ricezone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport ValidationError from '../ValidationError';\nvar once = function once(cb) {\n  var fired = false;\n  return function () {\n    if (fired) return;\n    fired = true;\n    cb.apply(void 0, arguments);\n  };\n};\nexport default function runTests(options, cb) {\n  var endEarly = options.endEarly,\n    tests = options.tests,\n    args = options.args,\n    value = options.value,\n    errors = options.errors,\n    sort = options.sort,\n    path = options.path;\n  var callback = once(cb);\n  var count = tests.length;\n  var nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n  for (var i = 0; i < tests.length; i++) {\n    var test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n        nestedErrors.push(err);\n      }\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push.apply(nestedErrors, _toConsumableArray(errors));\n          errors = nestedErrors;\n        }\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n        callback(null, value);\n      }\n    });\n  }\n}","map":{"version":3,"names":["ValidationError","once","cb","fired","runTests","options","endEarly","tests","args","value","errors","sort","path","callback","count","length","nestedErrors","i","test","finishTestRun","err","isError","push"],"sources":["/Users/frankfeng/Desktop/Academic/Rice/COMP531/hw6/hw6-frontend-frankfeng98/ricezone/node_modules/yup/es/util/runTests.js"],"sourcesContent":["import ValidationError from '../ValidationError';\n\nconst once = cb => {\n  let fired = false;\n  return (...args) => {\n    if (fired) return;\n    fired = true;\n    cb(...args);\n  };\n};\n\nexport default function runTests(options, cb) {\n  let {\n    endEarly,\n    tests,\n    args,\n    value,\n    errors,\n    sort,\n    path\n  } = options;\n  let callback = once(cb);\n  let count = tests.length;\n  const nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n\n  for (let i = 0; i < tests.length; i++) {\n    const test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n\n        nestedErrors.push(err);\n      }\n\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push(...errors);\n          errors = nestedErrors;\n        }\n\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n\n        callback(null, value);\n      }\n    });\n  }\n}"],"mappings":";AAAA,OAAOA,eAAe,MAAM,oBAAoB;AAEhD,IAAMC,IAAI,GAAG,SAAPA,IAAI,CAAGC,EAAE,EAAI;EACjB,IAAIC,KAAK,GAAG,KAAK;EACjB,OAAO,YAAa;IAClB,IAAIA,KAAK,EAAE;IACXA,KAAK,GAAG,IAAI;IACZD,EAAE,yBAAS;EACb,CAAC;AACH,CAAC;AAED,eAAe,SAASE,QAAQ,CAACC,OAAO,EAAEH,EAAE,EAAE;EAC5C,IACEI,QAAQ,GAOND,OAAO,CAPTC,QAAQ;IACRC,KAAK,GAMHF,OAAO,CANTE,KAAK;IACLC,IAAI,GAKFH,OAAO,CALTG,IAAI;IACJC,KAAK,GAIHJ,OAAO,CAJTI,KAAK;IACLC,MAAM,GAGJL,OAAO,CAHTK,MAAM;IACNC,IAAI,GAEFN,OAAO,CAFTM,IAAI;IACJC,IAAI,GACFP,OAAO,CADTO,IAAI;EAEN,IAAIC,QAAQ,GAAGZ,IAAI,CAACC,EAAE,CAAC;EACvB,IAAIY,KAAK,GAAGP,KAAK,CAACQ,MAAM;EACxB,IAAMC,YAAY,GAAG,EAAE;EACvBN,MAAM,GAAGA,MAAM,GAAGA,MAAM,GAAG,EAAE;EAC7B,IAAI,CAACI,KAAK,EAAE,OAAOJ,MAAM,CAACK,MAAM,GAAGF,QAAQ,CAAC,IAAIb,eAAe,CAACU,MAAM,EAAED,KAAK,EAAEG,IAAI,CAAC,CAAC,GAAGC,QAAQ,CAAC,IAAI,EAAEJ,KAAK,CAAC;EAE7G,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,KAAK,CAACQ,MAAM,EAAEE,CAAC,EAAE,EAAE;IACrC,IAAMC,IAAI,GAAGX,KAAK,CAACU,CAAC,CAAC;IACrBC,IAAI,CAACV,IAAI,EAAE,SAASW,aAAa,CAACC,GAAG,EAAE;MACrC,IAAIA,GAAG,EAAE;QACP;QACA,IAAI,CAACpB,eAAe,CAACqB,OAAO,CAACD,GAAG,CAAC,EAAE;UACjC,OAAOP,QAAQ,CAACO,GAAG,EAAEX,KAAK,CAAC;QAC7B;QAEA,IAAIH,QAAQ,EAAE;UACZc,GAAG,CAACX,KAAK,GAAGA,KAAK;UACjB,OAAOI,QAAQ,CAACO,GAAG,EAAEX,KAAK,CAAC;QAC7B;QAEAO,YAAY,CAACM,IAAI,CAACF,GAAG,CAAC;MACxB;MAEA,IAAI,EAAEN,KAAK,IAAI,CAAC,EAAE;QAChB,IAAIE,YAAY,CAACD,MAAM,EAAE;UACvB,IAAIJ,IAAI,EAAEK,YAAY,CAACL,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC;;UAEnC,IAAID,MAAM,CAACK,MAAM,EAAEC,YAAY,CAACM,IAAI,OAAjBN,YAAY,qBAASN,MAAM,EAAC;UAC/CA,MAAM,GAAGM,YAAY;QACvB;QAEA,IAAIN,MAAM,CAACK,MAAM,EAAE;UACjBF,QAAQ,CAAC,IAAIb,eAAe,CAACU,MAAM,EAAED,KAAK,EAAEG,IAAI,CAAC,EAAEH,KAAK,CAAC;UACzD;QACF;QAEAI,QAAQ,CAAC,IAAI,EAAEJ,KAAK,CAAC;MACvB;IACF,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module"}